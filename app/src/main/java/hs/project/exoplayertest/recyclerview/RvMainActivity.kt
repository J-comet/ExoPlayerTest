package hs.project.exoplayertest.recyclerview

import android.graphics.Bitmap
import android.media.MediaMetadataRetriever
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.util.Log
import android.widget.Toast
import androidx.recyclerview.widget.LinearLayoutManager
import hs.project.exoplayertest.R
import hs.project.exoplayertest.databinding.ActivityRvMainBinding

class RvMainActivity : AppCompatActivity() {

    private val binding by lazy { ActivityRvMainBinding.inflate(layoutInflater) }

    private lateinit var mainAdapter: RvMainAdapter

    private val test1 =
        "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
    private val test2 =
        "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"
    private val test3 =
        "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"

    private val testImg1 =
        "data:image/jpeg;base64,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"
    private val testImg2 =
        "data:image/jpeg;base64,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"
    private val testImg3 =
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKtT-E4H3IFqI0BOKpKkx5tol6ZsbI-yayem0ElObL8Q&s"
    private val testImg4 =
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmjQ7zzv-tO12sXMc_2a9S9mdTKWdM3WRg9ga3VpytHQ&s"
    private val testImg5 =
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRI4r7SvF2cbj7GoGBCiz_sO6RKmlq0pSDp9mtXcn98cQ&s"
    private val testImg6 =
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTT1tVXGbSUlPA_7fukWf-9yS8evxU07RctMZ7nibUwCw&s"

    private val videos = arrayListOf<RvModel>()

    private val times = 1000000L

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(binding.root)
        videos.add(RvModel(1, test1, RvModelInnerInfo(0L, testImg1, null, false, false)))
        videos.add(RvModel(2, test2, RvModelInnerInfo(0L, testImg2, null, false, false)))
        videos.add(RvModel(3, test3, RvModelInnerInfo(0L, testImg3, null, false, false)))
        videos.add(RvModel(4, test1, RvModelInnerInfo(0L, testImg4, null, false, false)))
        videos.add(RvModel(5, test2, RvModelInnerInfo(0L, testImg5, null, false, false)))
        videos.add(RvModel(6, test3, RvModelInnerInfo(0L, testImg6, null, false, false)))

        mainAdapter = RvMainAdapter(object : RvMainAdapter.Callback {
            override fun callback(selectedItem: RvModel) {

                Log.e("3", "34 / ${videos.size}")

//                mainAdapter.exoPlayer?.release()

                videos.forEachIndexed { index, item ->
                    if (selectedItem.id == item.id) {

                        val mediaMetadataRetriever = MediaMetadataRetriever()
                        mediaMetadataRetriever.setDataSource(item.videoPath)

                        Log.e("time", "time / ${item.innerInfo.seekTime}")
                        val bitmap = mediaMetadataRetriever.getFrameAtTime(selectedItem.innerInfo.seekTime * 1000L)

                        videos[index] = selectedItem.copy(
                            innerInfo = selectedItem.innerInfo.copy(
                                isPlay = !selectedItem.innerInfo.isPlay,
                                thumbnail = bitmap
                            )
                        )

                    } else {
                        videos[index] =
                            videos[index].copy(innerInfo = videos[index].innerInfo.copy(isPlay = false))
                    }
                }
//
//                Log.e("3", "35 / ${videos}")
//
//                mainAdapter.datas.clear()
//                mainAdapter.viewHolders.clear()
//                mainAdapter.datas = videos
                mainAdapter.notifyDataSetChanged()

                Toast.makeText(this@RvMainActivity, selectedItem.id.toString(), Toast.LENGTH_SHORT)
                    .show()
            }
        })

        with(binding.rvList) {
            adapter = mainAdapter
            layoutManager = LinearLayoutManager(this@RvMainActivity)
            itemAnimator = null
            animation = null
        }

        mainAdapter.datas = videos
    }
}